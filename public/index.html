<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Bot Management Platform</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
    <script src="/socket.io/socket.io.js"></script>
</head>
<body class="bg-gray-50 transition-colors duration-200">
    <!-- Sidebar -->
    <div id="sidebar" class="sidebar sidebar-closed lg:translate-x-0">
        <div class="flex items-center justify-between p-6 border-b border-gray-200">
            <div class="flex items-center space-x-3">
                <div class="w-8 h-8 bg-gradient-to-r from-primary-600 to-secondary-600 rounded-lg flex items-center justify-center">
                    <i class="fas fa-robot text-white text-sm"></i>
                </div>
                <h1 class="text-xl font-bold text-gray-900">YouTube Bot</h1>
            </div>
            <button id="closeSidebar" class="lg:hidden text-gray-500 hover:text-gray-700">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <nav class="mt-6">
            <div class="px-3 space-y-1">
                <a href="#dashboard" class="nav-link active" data-section="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#accounts" class="nav-link" data-section="accounts">
                    <i class="fas fa-users"></i>
                    <span>Accounts</span>
                </a>
                <a href="#videos" class="nav-link" data-section="videos">
                    <i class="fas fa-video"></i>
                    <span>Videos</span>
                </a>
                <a href="#configuration" class="nav-link" data-section="configuration">
                    <i class="fas fa-cog"></i>
                    <span>Configuration</span>
                </a>
                <a href="#logs" class="nav-link" data-section="logs">
                    <i class="fas fa-list"></i>
                    <span>Logs</span>
                </a>
                <a href="#system" class="nav-link" data-section="system">
                    <i class="fas fa-server"></i>
                    <span>System</span>
                </a>
            </div>
        </nav>
    </div>

    <!-- Main Content -->
    <div class="lg:ml-64">
        <!-- Top Navigation -->
        <header class="bg-white shadow-sm border-b border-gray-200">
            <div class="flex items-center justify-between px-4 py-4 sm:px-6 lg:px-8">
                <div class="flex items-center">
                    <button id="openSidebar" class="lg:hidden text-gray-500 hover:text-gray-700 mr-4">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h2 id="pageTitle" class="text-2xl font-bold text-gray-900">Dashboard</h2>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-2">
                        <div id="botStatus" class="status-indicator status-offline">
                            <span class="w-2 h-2 bg-gray-400 rounded-full mr-2"></span>
                            <span>Offline</span>
                        </div>
                    </div>
                    <button id="darkModeToggle" class="btn btn-outline">
                        <i class="fas fa-moon mr-2"></i>
                        <span>Dark Mode</span>
                    </button>
                    <button id="refreshBtn" class="btn btn-outline">
                        <i class="fas fa-sync-alt mr-2"></i>
                        Refresh
                    </button>
                </div>
            </div>
        </header>

        <!-- Page Content -->
        <main class="p-4 sm:p-6 lg:p-8">
            <!-- Dashboard Section -->
            <div id="dashboard" class="section active">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <!-- Status Cards -->
                    <div class="card">
                        <div class="card-body">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-users text-primary-600"></i>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">Accounts</p>
                                    <p id="accountsCount" class="text-2xl font-bold text-gray-900">-</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-body">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="w-8 h-8 bg-secondary-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-video text-secondary-600"></i>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">Videos</p>
                                    <p id="videosCount" class="text-2xl font-bold text-gray-900">-</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-body">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="w-8 h-8 bg-success-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-key text-success-600"></i>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">API Status</p>
                                    <p id="apiStatus" class="text-2xl font-bold text-gray-900">-</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-body">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="w-8 h-8 bg-warning-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-check-circle text-warning-600"></i>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">Bot Ready</p>
                                    <p id="botReady" class="text-2xl font-bold text-gray-900">-</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="text-lg font-semibold text-gray-900">Quick Actions</h3>
                        </div>
                        <div class="card-body">
                            <div class="grid grid-cols-2 gap-4">
                                <button id="startBotBtn" class="btn btn-success" disabled>
                                    <i class="fas fa-play mr-2"></i>
                                    Start Bot
                                </button>
                                <button id="stopBotBtn" class="btn btn-danger" disabled>
                                    <i class="fas fa-stop mr-2"></i>
                                    Stop Bot
                                </button>
                                <button id="uploadAccountsBtn" class="btn btn-primary">
                                    <i class="fas fa-upload mr-2"></i>
                                    Upload Accounts
                                </button>
                                <button id="uploadVideosBtn" class="btn btn-secondary">
                                    <i class="fas fa-video mr-2"></i>
                                    Upload Videos
                                </button>
                                <button id="testApiQuickBtn" class="btn btn-outline">
                                    <i class="fas fa-vial mr-2"></i>
                                    Test API
                                </button>
                            </div>
                        </div>
                    </div>

                                         <div class="card">
                         <div class="card-header">
                             <h3 class="text-lg font-semibold text-gray-900">Bot Progress</h3>
                         </div>
                         <div class="card-body">
                             <div id="progressSection" class="space-y-4" style="display: none;">
                                 <div class="flex justify-between text-sm text-gray-600">
                                     <span>Progress</span>
                                     <span id="progressPercent">0%</span>
                                 </div>
                                 <div class="progress-bar">
                                     <div id="progressFill" class="progress-fill" style="width: 0%"></div>
                                 </div>
                                 <div class="grid grid-cols-3 gap-4 text-center">
                                     <div>
                                         <p class="text-2xl font-bold text-primary-600" id="processedAccounts">0</p>
                                         <p class="text-sm text-gray-500">Processed</p>
                                     </div>
                                     <div>
                                         <p class="text-2xl font-bold text-success-600" id="successfulUploads">0</p>
                                         <p class="text-sm text-gray-500">Successful</p>
                                     </div>
                                     <div>
                                         <p class="text-2xl font-bold text-danger-600" id="failedUploads">0</p>
                                         <p class="text-sm text-gray-500">Failed</p>
                                     </div>
                                 </div>
                                 
                                 <!-- Bot Activity Panel -->
                                 <div class="mt-6 border-t pt-4">
                                     <h4 class="text-sm font-medium text-gray-700 mb-3">Current Activity</h4>
                                     <div id="botActivity" class="space-y-2">
                                         <div class="flex items-center text-sm">
                                             <div class="w-2 h-2 bg-blue-500 rounded-full mr-2 animate-pulse"></div>
                                             <span id="currentActivity">Initializing bot...</span>
                                         </div>
                                     </div>
                                 </div>
                                 
                                 <!-- Bot Status Details -->
                                 <div class="mt-4 border-t pt-4">
                                     <h4 class="text-sm font-medium text-gray-700 mb-3">Status Details</h4>
                                     <div class="grid grid-cols-2 gap-4 text-sm">
                                         <div>
                                             <span class="text-gray-500">Current Account:</span>
                                             <span id="currentAccount" class="ml-2 font-medium">-</span>
                                         </div>
                                         <div>
                                             <span class="text-gray-500">Start Time:</span>
                                             <span id="startTime" class="ml-2 font-medium">-</span>
                                         </div>
                                         <div>
                                             <span class="text-gray-500">Elapsed Time:</span>
                                             <span id="elapsedTime" class="ml-2 font-medium">-</span>
                                         </div>
                                         <div>
                                             <span class="text-gray-500">ETA:</span>
                                             <span id="estimatedTime" class="ml-2 font-medium">-</span>
                                         </div>
                                     </div>
                                 </div>
                             </div>
                             <div id="noProgress" class="text-center text-gray-500 py-8">
                                 <i class="fas fa-chart-line text-4xl mb-4"></i>
                                 <p>No active bot process</p>
                             </div>
                         </div>
                     </div>
                </div>

                                 <!-- Recent Activity -->
                 <div class="card">
                     <div class="card-header">
                         <h3 class="text-lg font-semibold text-gray-900">Recent Activity</h3>
                     </div>
                     <div class="card-body">
                         <div id="recentActivity" class="space-y-4">
                             <div class="text-center text-gray-500 py-8">
                                 <i class="fas fa-history text-4xl mb-4"></i>
                                 <p>No recent activity</p>
                             </div>
                         </div>
                     </div>
                 </div>
                 
                 <!-- Live Bot Activity Feed -->
                 <div class="card">
                     <div class="card-header">
                         <div class="flex items-center justify-between">
                             <h3 class="text-lg font-semibold text-gray-900">Live Bot Activity</h3>
                             <div class="flex items-center space-x-2">
                                 <div id="activityStatus" class="w-2 h-2 bg-gray-400 rounded-full"></div>
                                 <span class="text-sm text-gray-500">Idle</span>
                             </div>
                         </div>
                     </div>
                     <div class="card-body">
                         <div id="activityFeed" class="space-y-2 max-h-64 overflow-y-auto">
                             <div class="text-center text-gray-500 py-4">
                                 <i class="fas fa-robot text-2xl mb-2"></i>
                                 <p class="text-sm">Waiting for bot activity...</p>
                             </div>
                         </div>
                     </div>
                 </div>
            </div>

            <!-- Accounts Section -->
            <div id="accounts" class="section">
                <div class="card">
                    <div class="card-header">
                        <div class="flex items-center justify-between">
                            <h3 class="text-lg font-semibold text-gray-900">Gmail Accounts</h3>
                            <div class="flex space-x-2">
                                <button id="addAccountBtn" class="btn btn-primary">
                                    <i class="fas fa-plus mr-2"></i>
                                    Add Account
                                </button>
                                <button id="importAccountsBtn" class="btn btn-outline">
                                    <i class="fas fa-upload mr-2"></i>
                                    Import JSON
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <div id="accountsList" class="space-y-4">
                            <!-- Accounts will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Videos Section -->
            <div id="videos" class="section">
                <div class="card">
                    <div class="card-header">
                        <div class="flex items-center justify-between">
                            <h3 class="text-lg font-semibold text-gray-900">Video Files</h3>
                            <div class="flex space-x-2">
                                <button id="uploadVideoBtn" class="btn btn-primary">
                                    <i class="fas fa-upload mr-2"></i>
                                    Upload Videos
                                </button>
                                <button id="clearVideosBtn" class="btn btn-outline">
                                    <i class="fas fa-trash mr-2"></i>
                                    Clear All
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <div id="videosList" class="space-y-4">
                            <!-- Videos will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Configuration Section -->
            <div id="configuration" class="section">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="text-lg font-semibold text-gray-900">Bot Configuration</h3>
                        </div>
                        <div class="card-body">
                            <form id="configForm" class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">
                                        Max Videos Per Channel
                                    </label>
                                    <input type="number" id="maxVideosPerChannel" class="form-input" min="1" max="10" value="1">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">
                                        Upload Delay (seconds)
                                    </label>
                                    <input type="number" id="uploadDelay" class="form-input" min="1" max="60" value="5">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">
                                        Retry Attempts
                                    </label>
                                    <input type="number" id="retryAttempts" class="form-input" min="1" max="5" value="3">
                                </div>
                                <div>
                                    <label class="flex items-center">
                                        <input type="checkbox" id="saveCookies" class="form-checkbox mr-2" checked>
                                        <span class="text-sm text-gray-700">Save session cookies</span>
                                    </label>
                                </div>
                                <div>
                                    <label class="flex items-center">
                                        <input type="checkbox" id="humanBehavior" class="form-checkbox mr-2" checked>
                                        <span class="text-sm text-gray-700">Enable human behavior simulation</span>
                                    </label>
                                </div>
                                <button type="submit" class="btn btn-primary w-full">
                                    <i class="fas fa-save mr-2"></i>
                                    Save Configuration
                                </button>
                            </form>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 class="text-lg font-semibold text-gray-900">API Configuration</h3>
                        </div>
                        <div class="card-body">
                            <form id="apiConfigForm" class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">
                                        GoLogin API Token
                                    </label>
                                    <input type="password" id="apiToken" class="form-input" placeholder="Enter your API token">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">
                                        Web Interface Port
                                    </label>
                                    <input type="number" id="webPort" class="form-input" value="3001" min="1024" max="65535">
                                </div>
                                <div class="flex space-x-3">
                                    <button type="submit" class="btn btn-primary flex-1">
                                        <i class="fas fa-key mr-2"></i>
                                        Save API Config
                                    </button>
                                    <button type="button" id="testApiBtn" class="btn btn-outline">
                                        <i class="fas fa-vial mr-2"></i>
                                        Test API
                                    </button>
                                </div>
                            </form>
                            
                            <!-- API Test Results -->
                            <div id="apiTestResults" class="mt-4 p-4 bg-gray-50 rounded-lg" style="display: none;">
                                <h4 class="text-sm font-medium text-gray-700 mb-3">API Test Results</h4>
                                <div id="apiTestContent" class="space-y-2 text-sm">
                                    <!-- Test results will be populated here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Logs Section -->
            <div id="logs" class="section">
                <div class="card">
                    <div class="card-header">
                        <div class="flex items-center justify-between">
                            <h3 class="text-lg font-semibold text-gray-900">System Logs</h3>
                            <div class="flex space-x-2">
                                <button id="refreshLogsBtn" class="btn btn-outline">
                                    <i class="fas fa-sync-alt mr-2"></i>
                                    Refresh
                                </button>
                                <button id="clearLogsBtn" class="btn btn-outline">
                                    <i class="fas fa-trash mr-2"></i>
                                    Clear
                                </button>
                            </div>
                        </div>
                    </div>
                                         <div class="card-body">
                         <div class="flex items-center justify-between mb-4">
                             <div class="flex items-center space-x-2">
                                 <div id="logStatus" class="w-2 h-2 bg-green-500 rounded-full"></div>
                                 <span class="text-sm text-gray-600">Live Logs</span>
                             </div>
                             <div class="flex items-center space-x-2">
                                 <button id="clearLogsBtn" class="btn btn-outline btn-sm">
                                     <i class="fas fa-trash mr-1"></i>
                                     Clear
                                 </button>
                                 <button id="refreshLogsBtn" class="btn btn-outline btn-sm">
                                     <i class="fas fa-sync-alt mr-1"></i>
                                     Refresh
                                 </button>
                             </div>
                         </div>
                         <div id="logsContainer" class="bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm h-96 overflow-y-auto scrollbar-thin">
                             <div class="text-center text-gray-500 py-8">
                                 <i class="fas fa-terminal text-4xl mb-4"></i>
                                 <p>Loading logs...</p>
                             </div>
                         </div>
                     </div>
                </div>
            </div>

            <!-- System Section -->
            <div id="system" class="section">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="text-lg font-semibold text-gray-900">System Information</h3>
                        </div>
                        <div class="card-body">
                            <div id="systemInfo" class="space-y-4">
                                <!-- System info will be loaded here -->
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 class="text-lg font-semibold text-gray-900">Health Status</h3>
                        </div>
                        <div class="card-body">
                            <div id="healthStatus" class="space-y-4">
                                <!-- Health status will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    
    <!-- Add Account Modal -->
    <div id="addAccountModal" class="modal" style="display: none;">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="card-header">
                <h3 class="text-lg font-semibold text-gray-900">Add Gmail Account</h3>
            </div>
            <div class="card-body">
                <form id="addAccountForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                        <input type="email" id="accountEmail" class="form-input" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                        <input type="password" id="accountPassword" class="form-input" required>
                    </div>
                    <div class="flex space-x-3">
                        <button type="submit" class="btn btn-primary flex-1">
                            <i class="fas fa-plus mr-2"></i>
                            Add Account
                        </button>
                        <button type="button" id="cancelAddAccount" class="btn btn-outline flex-1">
                            Cancel
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Upload Modal -->
    <div id="uploadModal" class="modal" style="display: none;">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="card-header">
                <h3 id="uploadModalTitle" class="text-lg font-semibold text-gray-900">Upload Files</h3>
            </div>
            <div class="card-body">
                <div id="uploadArea" class="file-upload-area">
                    <i class="fas fa-cloud-upload-alt text-4xl text-gray-400 mb-4"></i>
                    <p class="text-lg font-medium text-gray-700 mb-2">Drop files here or click to browse</p>
                    <p class="text-sm text-gray-500">Supports JSON files for accounts, video files for videos</p>
                    <input type="file" id="fileInput" class="hidden" multiple>
                </div>
                <div id="uploadProgress" class="mt-4" style="display: none;">
                    <div class="flex justify-between text-sm text-gray-600 mb-2">
                        <span>Uploading...</span>
                        <span id="uploadPercent">0%</span>
                    </div>
                    <div class="progress-bar">
                        <div id="uploadProgressFill" class="progress-fill" style="width: 0%"></div>
                    </div>
                </div>
                <div class="flex space-x-3 mt-4">
                    <button id="confirmUpload" class="btn btn-primary flex-1" disabled>
                        <i class="fas fa-upload mr-2"></i>
                        Upload
                    </button>
                    <button id="cancelUpload" class="btn btn-outline flex-1">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Alert Container -->
    <div id="alertContainer" class="fixed top-4 right-4 z-50 space-y-2"></div>

    <script src="app.js"></script>
</body>
</html> 